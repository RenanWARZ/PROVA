<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Mercado - Carrinho de Compras</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
    }
    h2 {
      border-bottom: 1px solid #ccc;
      padding-bottom: 5px;
    }
    .produto {
      margin: 10px 0;
    }
    button {
      margin-left: 10px;
    }
    #carrinho {
      margin-top: 30px;
      padding: 15px;
      border: 1px solid #ccc;
      background-color: #f9f9f9;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin: 5px 0;
    }
    .total {
      font-weight: bold;
      margin-top: 10px;
    }
    .confirmacao {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #4CAF50;
      background-color: #d4edda;
      display: none;
    }
  </style>
</head>
<body>

  <h2>Produtos do Mercado</h2>

  <div class="produto">
    <span>Arroz 5kg - R$ 25,00</span>
    <button onclick="adicionarAoCarrinho('Arroz 5kg', 25)">Adicionar</button>
  </div>
  <div class="produto">
    <span>Feijão 1kg - R$ 7,50</span>
    <button onclick="adicionarAoCarrinho('Feijão 1kg', 7.5)">Adicionar</button>
  </div>
  <div class="produto">
    <span>Óleo 900ml - R$ 6,00</span>
    <button onclick="adicionarAoCarrinho('Óleo 900ml', 6)">Adicionar</button>
  </div>
  <div class="produto">
    <span>Macarrão 500g - R$ 4,00</span>
    <button onclick="adicionarAoCarrinho('Macarrão 500g', 4)">Adicionar</button>
  </div>
  <div class="produto">
    <span>Açúcar 1kg - R$ 5,50</span>
    <button onclick="adicionarAoCarrinho('Açúcar 1kg', 5.5)">Adicionar</button>
  </div>

  <div id="carrinho">
    <h2>Carrinho de Compras</h2>
    <ul id="listaCarrinho"></ul>
    <div class="total">Total: R$ <span id="total">0.00</span></div>
    <button onclick="confirmarCompra()">Confirmar Compra</button>
  </div>

  <div class="confirmacao" id="confirmacao">
    <h3>Resumo da Compra</h3>
    <ul id="resumoCompra"></ul>
    <div class="total">Total: R$ <span id="totalFinal">0.00</span></div>
  </div>

  <script>
    const carrinho = [];
    let total = 0;

    function adicionarAoCarrinho(nome, preco) {
      carrinho.push({ nome, preco });
      total += preco;
      atualizarCarrinho();
    }

    function removerItem(index) {
      total -= carrinho[index].preco;
      carrinho.splice(index, 1);
      atualizarCarrinho();
    }

    function atualizarCarrinho() {
      const lista = document.getElementById('listaCarrinho');
      const totalEl = document.getElementById('total');

      lista.innerHTML = '';
      carrinho.forEach((item, index) => {
        const li = document.createElement('li');
        li.textContent = `${item.nome} - R$ ${item.preco.toFixed(2)}`;
        const btnRemover = document.createElement('button');
        btnRemover.textContent = 'Remover';
        btnRemover.onclick = () => removerItem(index);
        li.appendChild(btnRemover);
        lista.appendChild(li);
      });

      totalEl.textContent = total.toFixed(2);
    }

    function confirmarCompra() {
      if (carrinho.length === 0) {
        alert("Seu carrinho está vazio. Adicione itens antes de confirmar a compra.");
        return;
      }

      const confirmacao = document.getElementById('confirmacao');
      const resumoCompra = document.getElementById('resumoCompra');
      const totalFinal = document.getElementById('totalFinal');

      resumoCompra.innerHTML = '';
      carrinho.forEach(item => {
        const li = document.createElement('li');
        li.textContent = `${item.nome} - R$ ${item.preco.toFixed(2)}`;
        resumoCompra.appendChild(li);
      });

      totalFinal.textContent = total.toFixed(2);
      confirmacao.style.display = 'block';
    }
  </script>

</body>
</html>
